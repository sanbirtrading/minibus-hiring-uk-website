!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e(require,exports,module):t.ScrollReveal=e()}(this,function(t,e,o){return function(){var t;this.ScrollReveal=function(){function n(o){return window==this?new n(o):((t=this).tools=new e,t.tools.extend(t.defaults,o||{}),!(t.tools.isMobile()&&!t.defaults.mobile)&&(t.tools.browserSupports("transform")?(t.store={elements:{},containers:[]},t.history=[],t.counter=0,t.blocked=!1,t.initialized=!1,t):console.warn("Your browser does not support CSS transform.")))}return n.prototype.defaults={origin:"bottom",distance:"20px",duration:500,delay:0,rotate:{x:0,y:0,z:0},opacity:0,scale:.9,easing:"cubic-bezier( 0.6, 0.2, 0.1, 1 )",container:null,mobile:!0,reset:!1,useDelay:"always",viewFactor:.2,viewOffset:{top:0,right:0,bottom:0,left:0},afterReveal:function(t){},afterReset:function(t){}},n.prototype.reveal=function(e,o,n){var i,r,s,a;if(r=o&&o.container?o.container:window.document.documentElement,!(i=Array.prototype.slice.call(r.querySelectorAll(e))).length)return console.warn("reveal('"+e+"') failed: no elements found."),t;for(var l=0;l<i.length;l++)s={},(a=i[l].getAttribute("data-sr-id"))?s=t.store.elements[a]:(s={id:++t.counter,domEl:i[l],seen:!1,revealed:!1}).domEl.setAttribute("data-sr-id",s.id),t.configure(s,o||{}),t.style(s),t.updateStore(s),s.revealed||s.domEl.setAttribute("style",s.styles.inline+s.styles.transform.initial);return n||t.record(e,o),t.init(),t},n.prototype.configure=function(e,o){e.config?e.config=t.tools.extendClone(e.config,o):e.config=t.tools.extendClone(t.defaults,o),"top"===e.config.origin||"bottom"===e.config.origin?e.config.axis="Y":e.config.axis="X","top"!==e.config.origin&&"left"!==e.config.origin||(e.config.distance="-"+e.config.distance)},n.prototype.style=function(t){var e=t.config,o=window.getComputedStyle(t.domEl);function n(o){parseInt(e.distance)&&(o.initial+=" translate"+e.axis+"("+e.distance+")",o.target+=" translate"+e.axis+"(0)"),e.scale&&(o.initial+=" scale("+e.scale+")",o.target+=" scale(1)"),e.rotate.x&&(o.initial+=" rotateX("+e.rotate.x+"deg)",o.target+=" rotateX(0)"),e.rotate.y&&(o.initial+=" rotateY("+e.rotate.y+"deg)",o.target+=" rotateY(0)"),e.rotate.z&&(o.initial+=" rotateZ("+e.rotate.z+"deg)",o.target+=" rotateZ(0)"),o.initial+="; opacity: "+e.opacity+";",o.target+="; opacity: "+t.styles.computed.opacity+";"}t.styles||(t.styles={transition:{},transform:{},computed:{}},t.styles.inline=t.domEl.getAttribute("style")||"",t.styles.inline+="; visibility: visible; ",t.styles.computed.opacity=o.opacity,o.transition&&"all 0s ease 0s"!=o.transition?t.styles.computed.transition=o.transition+", ":t.styles.computed.transition=""),t.styles.transition.instant="-webkit-transition: "+t.styles.computed.transition+"-webkit-transform "+e.duration/1e3+"s "+e.easing+" 0s, opacity "+e.duration/1e3+"s "+e.easing+" 0s; transition: "+t.styles.computed.transition+"transform "+e.duration/1e3+"s "+e.easing+" 0s, opacity "+e.duration/1e3+"s "+e.easing+" 0s; ",t.styles.transition.delayed="-webkit-transition: "+t.styles.computed.transition+"-webkit-transform "+e.duration/1e3+"s "+e.easing+" "+e.delay/1e3+"s, opacity "+e.duration/1e3+"s "+e.easing+" "+e.delay/1e3+"s; transition: "+t.styles.computed.transition+"transform "+e.duration/1e3+"s "+e.easing+" "+e.delay/1e3+"s, opacity "+e.duration/1e3+"s "+e.easing+" "+e.delay/1e3+"s; ",t.styles.transform.initial+=" -webkit-transform:",t.styles.transform.target+=" -webkit-transform:",n(t.styles.transform),t.styles.transform.initial="transform:",t.styles.transform.target="transform:",n(t.styles.transform)},n.prototype.updateStore=function(e){var o=e.config.container;o&&-1==t.store.containers.indexOf(o)&&t.store.containers.push(e.config.container),t.store.elements[e.id]=e},n.prototype.record=function(e,o){var n={selector:e,config:o};t.history.push(n)},n.prototype.init=function(){t.animate();for(var e=t.store.containers.length-1;e>=0;e--)t.store.containers[e].addEventListener("scroll",t.handler),t.store.containers[e].addEventListener("resize",t.handler);return t.initialized||(window.addEventListener("scroll",t.handler),window.addEventListener("resize",t.handler),t.initialized=!0),t},n.prototype.handler=function(){t.blocked||(t.blocked=!0,o(t.animate))},n.prototype.animate=function(){var e,o;function n(t,e){var o=0,n=0,i="after";switch(t){case"reveal":n=e.config.duration+e.config.delay,i+="Reveal";break;case"reset":n=e.config.duration,i+="Reset"}return e.timer&&(o=Math.abs(e.timer.started-new Date),window.clearTimeout(e.timer.clock)),e.timer={started:new Date},e.timer.clock=window.setTimeout(function(){e.config[i](e.domEl),e.timer=null},n-o),e.revealed="reveal"===t}t.tools.forOwn(t.store.elements,function(i){e=t.store.elements[i],(o=t.isElemVisible(e))&&!e.revealed?("always"===e.config.useDelay||"onload"===e.config.useDelay&&!t.initialized||"once"===e.config.useDelay&&!e.seen?e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.delayed):e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.target+e.styles.transition.instant),e.seen=!0,n("reveal",e)):!o&&e.config.reset&&e.revealed&&(e.domEl.setAttribute("style",e.styles.inline+e.styles.transform.initial+e.styles.transition.instant),n("reset",e))}),t.blocked=!1},n.prototype.getContainerSize=function(t){return t||(t=window.document.documentElement),{width:t.clientWidth||0,height:t.clientHeight||0}},n.prototype.getScrolled=function(e){if(e){var o=t.getOffset(e);return{x:e.scrollLeft+o.left,y:e.scrollTop+o.top}}return{x:window.pageXOffset,y:window.pageYOffset}},n.prototype.getOffset=function(t){var e=0,o=0;do{isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(o+=t.offsetLeft)}while(t=t.offsetParent);return{top:e,left:o}},n.prototype.isElemVisible=function(e){var o,n,i,r,s,a,l,c,f=t.getOffset(e.domEl),d=t.getContainerSize(e.config.container),u=t.getScrolled(e.config.container),y=e.config.viewFactor,p=e.domEl.offsetHeight,g=e.domEl.offsetWidth,m=f.top,w=m+p,h=f.left;return o=m+p*y,n=w-p*y,i=h+g*y,r=h+g-g*y,s=u.y+e.config.viewOffset.top,a=u.y-e.config.viewOffset.bottom+d.height,l=u.x+e.config.viewOffset.left,c=u.x-e.config.viewOffset.right+d.width,o<a&&n>s&&i>l&&r<c||"fixed"===window.getComputedStyle(e.domEl).position},n.prototype.sync=function(){if(t.history.length)for(var e=0;e<t.history.length;e++){var o=t.history[e];t.reveal(o.selector,o.config,!0)}else console.warn("sync() failed: no reveals found.");return t},n}();var e=function(){function t(){}return t.prototype.isObject=function(t){return null!==t&&"object"==typeof t&&t.constructor==Object},t.prototype.forOwn=function(t,e){if(!this.isObject(t))throw new TypeError("Expected 'object', but received '"+typeof t+"'.");for(var o in t)t.hasOwnProperty(o)&&e(o)},t.prototype.extend=function(t,e){return this.forOwn(e,function(o){this.isObject(e[o])?(t[o]&&this.isObject(t[o])||(t[o]={}),this.extend(t[o],e[o])):t[o]=e[o]}.bind(this)),t},t.prototype.extendClone=function(t,e){return this.extend(this.extend({},t),e)},t.prototype.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},t.prototype.browserSupports=function(t){for(var e=document.createElement("sensor"),o=(t+"Webkit,Moz,O,".split(",").join(t+",")).split(","),n=0;n<o.length;n++)if(""===!e.style[o[n]])return!1;return!0},t}(),o=this.requestAnimationFrame||this.webkitRequestAnimationFrame||this.mozRequestAnimationFrame}.call(this),ScrollReveal});